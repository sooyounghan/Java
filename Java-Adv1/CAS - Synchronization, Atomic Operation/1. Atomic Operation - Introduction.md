-----
### 원자적 연산 - 소개
-----
1. 컴퓨터 과학에서 사용하는 원자적 연산 (Atomic Operation) : 해당 연산이 더 이상 나눌 수 없는 단위로 수행된다는 것을 의미
2. 즉, 원자적 연산은 중단되지 않고, 다른 연산과 간섭 없이 완전히 실행되거나 전혀 실행되지 않는 성질을 가지고 있음
3. 즉, 멀티스레드 상황에서 다른 스레드 간섭 없이 안전하게 처리되는 연산
4. 참고 : 과거 원자는 더 이상 나눌 수 없는 가장 작은 단위
   - 그래서 더는 나눌 수 없다는 뜻으로 원자적 연산이라는 단어 사용

5. 예시
   - 다음과 같은 필드 존재
```java
volatile int i = 0;
```

   - 다음 연산은 둘로 쪼갤 수 없는 원자적 연산
```java
i = 1
```
   - 이 연산은 다음 단 하나의 순서로 실행 : 오른쪽에 있는 1의 값을 왼쪽의 i 변수에 대입
   - 하지만, 다음 연산은 원자적 연산이 아님
```java
i = i + 1;
```
  - 다음 순서로 나누어 실행
    + 오른쪽에 있는 i의 값을 읽음 i의 값은 10
    + 읽은 10에 1을 더해서 11을 만듬
    + 더한 11을 왼쪽의 i 변수에 대입

6. 원자적 연산은 멀티스레드 상황에서 아무런 문제가 발생하지 않는데, 원자적 연산이 아닌 경우 synchrozined 블럭이나 Lock 등을 사용해 안전한 임게 영역을 만들어야 함
7. 순서대로 실행
   - 예를 들어 2개 스레드로 로직을 수행하는데, 하나가 완전히 끝나고, 나머지 하나가 수행된다고 가정
```
처음에 i = 0이라고 가정하겠다.

스레드1: i = i + 1 연산 수행
스레드1: i의 값을 읽는다. i는 0이다.
스레드1: 읽은 0에 1을 더해서 1을 만든다.
스레드1: 더한 1을 왼쪽의 i변수에 대입한다.
결과: i의 값은 1이다.

스레드2: i = i + 1 연산 수행
스레드2: i의 값을 읽는다. i는 1이다.
스레드2: 읽은 1에 1을 더해서 2을 만든다.
스레드2: 더한 2을 왼쪽의 i변수에 대입한다.
결과: i의 값은 2이다.
```
  - 2개의 스레드가 각 한 번 연산을 수행했으므로 변수 i의 값은 0에서 2가 됨

8. 동시에 실행
   - 2개스레드가 해당 로직을 동시에 수행하면, 문제 발생
```
처음에 i = 0이라고 가정하겠다.

스레드1: i = i + 1 연산 수행
스레드2: i = i + 1 연산 수행

스레드1: i의 값을 읽는다. i는 0이다.
스레드2: i의 값을 읽는다. i는 0이다.

스레드1: 읽은 0에 1을 더해서 1을 만든다.
스레드2: 읽은 0에 1을 더해서 1을 만든다.

스레드1: 더한 1을 왼쪽의 i변수에 대입한다.
스레드2: 더한 1을 왼쪽의 i변수에 대입한다.

결과: i의 값은 1이다.
```
  - 2개 스레드가 각 한 번 연산을 수행했지만 변수 i의 값은 0에서 1이 됨, 즉 한 번의 연산이 사라짐
  - i++는 원자적 연산처럼 보이지만, 원자적 연산이 아님 (이 연산은 i = i + 1을 축약한 것이므로 i = i + 1와 동일하게 동작)
