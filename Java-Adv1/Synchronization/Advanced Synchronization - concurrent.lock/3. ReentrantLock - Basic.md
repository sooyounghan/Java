-----
### ReentrantLock - μ΄λ΅ 
-----
1. μλ°”λ” 1.0λ¶€ν„° μ΅΄μ¬ν• synchronizedμ™€ BLOCKED μƒνƒλ¥Ό ν†µν• μ„κ³„ μμ—­ κ΄€λ¦¬ ν•κ³„λ¥Ό κ·Ήλ³µν•κΈ° μ„ν•΄ μλ°” 1.5λ¶€ν„° Lock μΈν„°νμ΄μ¤μ™€ ReentrantLock κµ¬ν„μ²΄ μ κ³µ
2. Lock μΈν„°νμ΄μ¤
```java
package java.util.concurrent.locks;

public interface Lock {
    void lock();
    void lockInterruptibly() throws InterruptedException;
    boolean tryLock();
    boolean tryLock(long time, TimeUnit unit) throws InterruptedException;
    void unlock();
    Condition newCondition();
}
```
  - Lock μΈν„°νμ΄μ¤λ” λ™μ‹μ„± ν”„λ΅κ·Έλλ°μ—μ„ μ“°μ΄λ” μ•μ „ν• μ„κ³„ μμ—­μ„ μ„ν• λ½μ„ κµ¬ν„ν•λ”λ° μ‚¬μ©
  - λ€ν‘μ μΈ κµ¬ν„μ²΄ : ReentrantLock

3. Lock μΈν„°νμ΄μ¤μ  λ©”μ„λ“
  - void lock()
    + λ½μ„ νλ“ (λ§μ•½, λ‹¤λ¥Έ μ¤λ λ“κ°€ μ΄λ―Έ λ½μ„ νλ“ν–λ‹¤λ©΄, λ½μ΄ ν’€λ¦΄ λ• κΉμ§€ ν„μ¬ μ¤λ λ“λ” λ€κΈ° (WAITING))
    + μ΄ λ©”μ„λ“λ” μΈν„°λ½νΈμ— μ‘λ‹µν•μ§€ μ•μ
    + μ—¬κΈ°μ„ μ‚¬μ©ν•λ” λ½μ€ κ°μ²΄ λ‚΄λ¶€μ— μλ” λ¨λ‹ν„° λ½μ€ μ•„λ‹ (Lock μΈν„°νμ΄μ¤μ™€ ReentrantLockμ΄ μ κ³µν•λ” κΈ°λ¥ / λ¨λ‹ν„° λ½κ³Ό Blocked μƒνƒλ” synchronizedμ—μ„λ§ μ‚¬μ©)

  - void lockInterruptibly()
    + λ½ νλ“μ„ μ‹λ„ν•λ, λ‹¤λ¥Έ μ¤λ λ“κ°€ μΈν„°λ½νΈν•  μ μλ„λ΅ ν•¨
    + λ§μ•½ λ‹¤λ¥Έ μ¤λ λ“κ°€ μ΄λ―Έ λ½μ„ νλ“ν–λ‹¤λ©΄, ν„μ¬ μ¤λ λ“λ” λ½μ„ νλ“ν•  λ• κΉμ§€ λ€κΈ°
    + λ€κΈ° μ¤‘μ— μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄ InterruptedExceptionμ΄ λ°μƒν•λ©° λ½ νλ“ ν¬κΈ°

  - boolean tryLock()
    + λ½ νλ“μ„ μ‹λ„ν•κ³ , μ¦‰μ‹ μ„±κ³µ μ—¬λ¶€λ¥Ό λ°ν™
    + λ§μ•½, λ‹¤λ¥Έ μ¤λ λ“κ°€ μ΄λ―Έ λ½μ„ νλ“ν–λ‹¤λ©΄ false λ°ν™, κ·Έλ ‡μ§€ μ•μΌλ©΄ λ½μ„ νλ“ν•κ³  true λ°ν™

  - boolean tryLock(long time, TimeUnit unit)
    + μ£Όμ–΄μ§„ μ‹κ°„ λ™μ• λ½μ„ νλ“ μ‹λ„
    + μ£Όμ–΄μ§„ μ‹κ°„ μ•μ— λ½μ„ νλ“ν•λ©΄ true λ°ν™
    + μ£Όμ–΄μ§„ μ‹κ°„μ΄ μ§€λ‚λ„ νλ“ν•μ§€ λ»ν• κ²½μ° false λ°ν™
    + μ΄ λ©”μ„λ“λ” λ€κΈ° μ¤‘ μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄ InterruptedExceptionμ΄ λ°μƒν•λ©° λ½ νλ“ ν¬κΈ°
   
  - void unlock()
    + λ½μ„ ν•΄μ  (λ½μ„ ν•΄μ ν•λ©΄ λ½ νλ“μ„ λ€κΈ° μ¤‘μΈ μ¤λ λ“ μ¤‘ ν•λ‚κ°€ λ½μ„ νλ“ ν•  μ μκ² λ¨)
    + λ½μ„ νλ“ν• μ¤λ λ“κ°€ νΈμ¶ν•΄μ•Ό ν•λ©°, κ·Έλ ‡μ§€ μ•μΌλ©΄ IllegalMonitorStateExceptionμ΄ λ°μƒν•  μ μμ

  - Condition newCondition()
    + Condition κ°μ²΄λ¥Ό μƒμ„±ν•μ—¬ λ°ν™
    + Condition κ°μ²΄λ” λ½κ³Ό κ²°ν•©ν•μ—¬ μ‚¬μ©λλ©°, μ¤λ λ“κ°€ νΉμ • μ΅°κ±΄μ„ κΈ°λ‹¤λ¦¬κ±°λ‚ μ‹ νΈλ¥Ό λ°›μ„ μ μλ„λ΅ ν•¨
    + Object ν΄λμ¤μ wait, notify, notifyAll λ©”μ„λ“μ™€ μ μ‚¬ν• μ—­ν• 

4. Lock μΈν„°νμ΄μ¤λ” synchronized λΈ”λ΅λ³΄λ‹¤ λ” λ§μ€ μ μ—°μ„± μ κ³µμ„ μ κ³µν•λ©°, νΉν λ½μ„ νΉμ • μ‹κ°„ λ§νΌ μ‹λ„ν•κ±°λ‚, μΈν„°λ½νΈ κ°€λ¥ν• λ½μ„ μ‚¬μ©ν•  λ• μ μ© (synchronizedμ λ‹¨μ μΈ λ¬΄ν• λ€κΈ° λ¬Έμ λ„ ν•΄κ²° κ°€λ¥)
5. μ°Έκ³  : lock() λ©”μ„λ“λ” μΈν„°λ½νΈμ— μ‘ν•μ§€ μ•μ (μΈν„°λ½νΈκ°€ λ°μƒν•΄λ„ λ¬΄μ‹ν•κ³  λ½μ„ κΈ°λ‹¤λ¦¬λ” κ²ƒ)
6. π’΅ μ•μ„ λ€κΈ°(WAITING) μƒνƒμ μ¤λ λ“μ— μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄ λ€κΈ° μƒνƒλ¥Ό λΉ μ Έλ‚μ΄
   - κ·Έλ°λ° lock() λ©”μ„λ“λ” λ€κΈ°(WAITING) μƒνƒμΈλ° μΈν„°λ½νΈμ— μ‘ν•μ§€ μ•μ
   - lock()μ„ νΈμ¶ν•΄μ„ λ½μ„ μ–»κΈ° μ„ν•΄ λ€κΈ°μ¤‘μΈ μ¤λ λ“μ— μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄ μκ°„ λ€κΈ° μƒνƒλ¥Ό λΉ μ Έλ‚μ¤λ” κ²ƒμ€ λ§μ
   - κ·Έλμ„ μ•„μ£Ό μ§§μ§€λ§ WAITING β†’ RUNNABLEμ΄ λμ§€λ§, lock()λ©”μ„λ“ μ•μ—μ„ ν•΄λ‹Ή μ¤λ λ“λ¥Ό λ‹¤μ‹ WAITING μƒνƒλ΅ κ°•μ λ΅ λ³€κ²½ν•΄λ²„λ¦Ό
   -  μ΄λ° μ›λ¦¬λ΅ μΈν„°λ½νΈλ¥Ό λ¬΄μ‹ν•λ” κ²ƒμ΄λ©°, μ°Έκ³ λ΅ μΈν„°λ½νΈκ°€ ν•„μ”ν•λ©΄ lockInterruptibly()λ¥Ό μ‚¬μ©ν•λ©΄ λ¨


7. κ³µμ •μ„±
   - λ½μ΄ λμ•„μ™”μ„ λ• BLOCKED μƒνƒμ μ—¬λ¬ μ¤λ λ“ μ¤‘μ— μ–΄λ–¤ μ¤λ λ“κ°€ λ½μ„ νλ“ν•  μ§€ μ• μ μ—†μ (μµμ•…μ κ²½μ° νΉμ • μ¤λ λ“κ°€ λ„λ¬΄ μ¤λκΈ°κ°„ λ½μ„ νλ“ν•μ§€ λ»ν•  μ μμ)
   - Lock μΈν„°νμ΄μ¤μ λ€ν‘μ μΈ κµ¬ν„μ²΄λ΅ ReentrantLockμ΄ μλ”λ°, μ΄ ν΄λμ¤λ” μ¤λ λ“κ°€ κ³µμ •ν•κ² λ½μ„ μ–»μ„ μ μλ” λ¨λ“λ¥Ό μ κ³µ
   - μ‚¬μ© μμ‹
```java
import java.util.concurrent.locks.ReentrantLock;

public class ReentrantLockEx {
    // λΉ„κ³µμ • λ¨λ“ λ½
    private final Lock nonFairLock = new ReentrantLock();

    // κ³µμ • λ¨λ“ λ½
    private final Lock fairLock = new ReentrantLock(true);

    public void nonFairLockTest() {
        nonFairLock.lock();
        try {
            // μ„κ³„ μμ—­
        } finally {
            nonFairLock.unlock();
        }  
    }

    public void fairLockTest() {
        fairLock.lock();
        try {
            // μ„κ³„ μμ—­
        } finally {
            fairLock.unlock();
        }
    }
}
```
  - ReentrantLock λ½μ€ κ³µμ •μ„± (fairness) λ¨λ“μ™€ λΉ„κ³µμ •(non-fair) λ¨λ“λ΅ μ„¤μ •ν•  μ μμΌλ©°, μ΄ λ‘ λ¨λ“λ” λ½μ„ νλ“ν•λ” λ°©μ‹μ— μ°¨μ΄ μ΅΄μ¬

8. λΉ„κ³µμ • λ¨λ“ (Non-fair Mode)
   - ReentrantLockμ κΈ°λ³Έ λ¨λ“
   - μ΄ λ¨λ“μ—μ„λ” λ½μ„ λ¨Όμ € μ”μ²­ν• μ¤λ λ“κ°€ λ½μ„ νλ“ν•λ‹¤λ” λ³΄μ¥μ΄ μ—†μ
   - λ½μ„ ν’€μ—μ„ λ•, λ€κΈ° μ¤‘μΈ μ¤λ λ“ μ¤‘ μ•„λ¬΄λ‚ λ½ νλ“ κ°€λ¥
   - μ΄λ” λ½μ„ λΉ¨λ¦¬ νλ“ν•  μ μμ§€λ§, νΉμ • μ¤λ λ“κ°€ μ¥κΈ°κ°„ λ½μ„ νλ“ν•μ§€ λ»ν•  κ°€λ¥μ„± μ΅΄μ¬
   - νΉμ§•
     + μ„±λ¥ μ°μ„  : λ½μ„ νλ“ν•λ” μ†λ„κ°€ λΉ λ¦„
     + μ„ μ  κ°€λ¥ : μƒλ΅μ΄ μ¤λ λ“κ°€ κΈ°μ΅΄ λ€κΈ° μ¤λ λ“λ³΄λ‹¤ λ¨Όμ € λ½ νλ“ κ°€λ¥
     + κΈ°μ•„ ν„μƒ κ°€λ¥μ„± : νΉμ • μ¤λ λ“κ°€ κ³„μ†ν•΄μ„ λ½ νλ“ ν•μ§€ λ»ν•  μ μμ
    
9. κ³µμ • λ¨λ“ (Fair Mode)
    - μƒμ„±μμ—μ„ true μ „λ‹¬ (μ) new ReentrantLock(true))
    - κ³µμ • λ¨λ“λ” λ½μ„ μ”μ²­ν• μμ„λ€λ΅ μ¤λ λ“κ°€ λ½μ„ νλ“ν•  μ μκ² ν•¨
    - μ΄λ” λ¨Όμ € λ€κΈ°ν• μ¤λ λ“κ°€ λ¨Όμ € λ½μ„ νλ“ν•κ² λμ–΄ μ¤λ λ“ κ°„ κ³µμ •μ„± λ³΄μ¥ν•λ‚, μ΄λ΅ μΈν•΄ μ„±λ¥ μ €ν•λ  μ μμ
    - κ³µμ • λ¨λ“ νΉμ§•
      + κ³µμ •μ„± λ³΄μ¥ : λ€κΈ° νμ—μ„ λ¨Όμ € λ€κΈ°ν• μ¤λ λ“κ°€ λ½ νλ“
      + κΈ°μ•„ ν„μƒ λ°©μ§€ : λ¨λ“  μ¤λ λ“κ°€ μ–Έμ  κ°€ λ½μ„ νλ“ν•  μ μλ„λ΅ λ³΄μ¥
      + μ„±λ¥ μ €ν• : λ½μ„ νλ“ν•λ” μ†λ„λΌ λλ ¤μ§ μ μμ

10. λΉ„κ³µμ • λ¨λ“, κ³µμ • λ¨λ“ μ •λ¦¬
    - λΉ„κ³µμ • λ¨λ“ : μ„±λ¥ μ¤‘μ‹, μ¤λ λ“κ°€ λ½μ„ λΉ¨λ¦¬ νλ“ν•  μ μμΌλ‚ νΉμ • μ¤λ λ“κ°€ κ³„μ†ν•΄μ„ λ½ νλ“ λ»ν•  μ μμ
    - κ³µμ • λ¨λ“ : μ¤λ λ“κ°€ λ½μ„ νλ“ν•λ” μμ„λ” λ³΄μ¥ν•μ—¬ κ³µμ •μ„±μ„ μ¤‘μ‹ν•μ§€λ§, μ„±λ¥ μ €ν•λ  μ μμ
