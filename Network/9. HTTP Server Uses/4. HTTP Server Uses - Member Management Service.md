-----
### HTTP 서버 활용 - 회원 관리 서비스
-----
1. 앞서 I/O에서 콘솔을 활용해 다음 회원 관리 기능을 개발
  - 요구사항
    + 회원 관리 프로그램을 작성
    + 회원의 속성 : ID, Name, Age
    + 회원을 등록하고, 등록한 회원의 목록을 조회할 수 있어야 함
```
1.회원 등록 | 2.회원 목록 조회 | 3.종료
선택: 1
ID 입력: id1
Name 입력: name1
Age 입력: 20
회원이 성공적으로 등록되었습니다.

1.회원 등록 | 2.회원 목록 조회 | 3.종료
선택: 1
ID 입력: id2
Name 입력: name2
Age 입력: 30
회원이 성공적으로 등록되었습니다.

1.회원 등록 | 2.회원 목록 조회 | 3.종료
선택: 2
회원 목록:
[ID: id1, Name: name1, Age: 20]
[ID: id2, Name: name2, Age: 30]

1.회원 등록 | 2.회원 목록 조회 | 3.종료
선택: 3
프로그램을 종료합니다.
```

2. 해당 기능을 웹으로 구현
3. 기존에 있던 io.member 패키지의 Member와 MemberRepository는 그대로 사용

4. 회원 컨트롤러 - MemberController (/webservice)
```java
package webservice;

import io.member.Member;
import io.member.MemberRepository;
import was.httpserver.HttpRequest;
import was.httpserver.HttpResponse;
import was.httpserver.servlet.annotation.Mapping;

import java.util.List;

import static util.MyLogger.log;

public class MemberController {
    private final MemberRepository memberRepository;

    public MemberController(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }

    @Mapping("/")
    public void home(HttpResponse response) {
        String str = "<html><body>" +
                "<h1>Member Manager</h1>" +
                "<ul>" +
                "<li><a href='/members'>Member List</a></li>" +
                "<li><a href='/add-member-form'>Add New Member</a></li>" +
                "</ul>";

        response.writeBody(str);
    }

    @Mapping("/members")
    public void members(HttpResponse response) {
        List<Member> members = memberRepository.findAll();

        StringBuilder page = new StringBuilder();
        page.append("<html><body>");

        page.append("<h1>Member List</h1>");
        page.append("<ul>");

        for (Member member : members) {
            page.append("<li>")
                    .append("ID : ").append(member.getId())
                    .append(", Name : ").append(member.getName())
                    .append(", Age : ").append(member.getAge())
                    .append("</li>");
        }

        page.append("</ul>");
        page.append("<a href='/'>Back to Home</a>");
        page.append("</body></html>");

        response.writeBody(page.toString());
    }

    @Mapping("/add-member-form")
    public void addMemberForm(HttpResponse response) {
        String body = "<html><body>" +
                "<h1>Add New Member</h1>" +
                "<form method='POST' action='/add-member'>" +
                "ID : <input type='text' name='id'><br>" +
                "Name : <input type='text' name='name'><br>" +
                "Age : <input type='text' name='age'><br>" +
                "<input type='submit' value='Add'>" +
                "</form>" +
                "<a href='/'>Back To Home</a>" +
                "</body></html>";

        response.writeBody(body);
    }

    @Mapping("/add-member")
    public void addMember(HttpRequest request, HttpResponse response) {
        log("MemberController.addMember");
        log("Request = " + request);

        String id = request.getParameter("id");
        String name = request.getParameter("name");
        int age = Integer.parseInt(request.getParameter("age"));

        Member member = new Member(id, name, age);
        memberRepository.add(member);

        response.writeBody("<h1>Save OK</h1>");
        response.writeBody("<a href='/'>Back To Home</a>");

    }
}
```
  - home() : 첫 화면으로, 회원 목록과 신규 회원 등록 화면으로 이동하는 기능 제공
    + Member List : /members
    + Add New Member : /add-member-form

  - members() : memberRepository.findAll() 기능을 사용해서 저장된 모든 회원 목록 조회
    + 반복문을 사용해서 컬렉션에 담긴 회원 정보를 기반으로 다음 HTML 생성
```html
<html>
<body>
<h1>Member List</h1>
<ul>
    <li>ID: id1, Name: member1, Age: 20</li>
    <li>ID: id2, Name: member2, Age: 30</li>
    ...
</ul>
<a href='/'>Back to Home</a></body>
</html>
```

  - addMemberForm : 회원 저장을 위해 회원을 등록하는 화면을 필요 (HTML에서는 이를 Form(폼)이라고 함)
    + 폼을 처리하기 위한 특별한 HTML 태그 지원
```html
<html>
<body>
<h1>Add New Member</h1>
<form method='POST' action='/add-member'>
  ID: <input type='text' name='id'><br>
  Name: <input type='text' name='name'><br>
  Age: <input type='text' name='age'><br>
<input type='submit' value='Add'>
</form>
<a href='/'>Back to Home</a></body>
</html>
```
  + ```<form>``` : 클라이언트에서 서버로 전송할 데이터를 입력하는 기능 제공
    * method=POST : HTTP 메세지를 전송할 때 POST 방식으로 전송 (메세지 바디에 필요 데이터를 추가해서 서버에 전달)
    * action='/add-member' : HTTP 메세지를 전송할 URL 경로
