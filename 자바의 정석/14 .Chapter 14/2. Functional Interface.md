-----
### ν•¨μν• μΈν„°νμ΄μ¤ (Functional Interface)
-----
1. λλ‹¤μ‹μ€ μµλ… ν΄λμ¤μ κ°μ²΄μ™€ λ™λ“±
```java
(int a, int b) -> a > b ? a : b
```
```java
new Object() {
    int max(int a, int b) {
        return a > b ? a : b;
    }
}
```

2. μ°μ„ , μµλ… κ°μ²΄μ μ£Όμ†λ¥Ό fλΌλ” μ°Έμ΅°λ³€μμ— μ €μ¥ν•κ³  μλ‹¤κ³  κ°€μ •
```java
νƒ€μ… f = (int a, int b) -> a > b ? a : b; // μ°Έμ΅° λ³€μμ νƒ€μ…μ€?
```
  - μ°Έμ΅°ν•μ΄λ―€λ΅ ν΄λμ¤ λλ” μΈν„°νμ΄μ¤κ°€ κ°€λ¥
  - λλ‹¤μ‹κ³Ό λ™λ“±ν• λ©”μ„λ“κ°€ μ •μλμ–΄ μλ” κ²ƒμ΄μ–΄μ•Ό ν•¨

3. μλ¥Ό λ“¤μ–΄, max()λΌλ” λ©”μ„λ“κ°€ μ •μλ MyFunctionκ°€ μΈν„°νμ΄μ¤κ°€ μ •μλμ–΄ μλ‹¤κ³  κ°€μ •
```java
interface MyFunction {
    public abstrac int max(int a, int b);
}
```

4. μ΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• μµλ… ν΄λμ¤μ κ°μ²΄λ” λ‹¤μκ³Ό κ°™μ΄ μƒμ„± κ°€λ¥
```java
MyFunction f = new MyFunction() {
    public int max(int a, int b) {
        return a > b ? a : b;
    }
};

int big = f.max(3, 5); // μµλ… κ°μ²΄μ λ©”μ„λ“ νΈμ¶
```

5. μ¦‰ λ‹¤μκ³Ό κ°™μ΄ μµλ… κ°μ²΄λ¥Ό λλ‹¤μ‹μΌλ΅ λ€μ²΄ κ°€λ¥
```java
MyFunction f = (int a, int b) -> a > b ? a : b; // μµλ… κ°μ²΄λ¥Ό λλ‹¤μ‹μΌλ΅ λ€μ²΄
int big = f.max(3, 5); // μµλ… κ°μ²΄ λ©”μ„λ“ νΈμ¶
```

6. π’΅ μ΄μ²λΌ λ€μ²΄ κ°€λ¥ν• μ΄μ λ”, λλ‹¤μ‹μ€ μ‹¤μ λ΅ μµλ… κ°μ²΄μ΄λ©°, MyFunction μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• μµλ… κ°μ²΄ λ©”μ„λ“ max()μ™€ λλ‹¤μ‹μ λ§¤κ°λ³€μμ νƒ€μ…κ³Ό κ°μ κ·Έλ¦¬κ³  λ°ν™κ°’μ΄ μΌμΉν•κΈ° λ•λ¬Έμ„
7. λ”°λΌμ„, μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ λλ‹¤μ‹μ„ λ‹¤λ£¨κΈ°λ΅ κ²°μ •ν•μ—¬μΌλ―€λ΅, λλ‹¤μ‹μ„ λ‹¤λ£¨κΈ° μ„ν• μΈν„°νμ΄μ¤λ¥Ό 'ν•¨μν• μΈν„°νμ΄μ¤(Functional Interface)'
```java
@FunctionalInterface
interface MyFunction { // ν•¨μν• μΈν„°νμ΄μ¤ MyFunction μ •μ
    public abstract int max(int a, int b);
}
```

8. λ‹¨ ν•¨μν• μΈν„°νμ΄μ¤μ—λ” μ¤μ§ ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ§ μ •μλμ–΄ μμ–΄μ•Ό ν•λ‹¤λ” μ μ•½ μ΅΄μ¬
   - λλ‹¤μ‹κ³Ό μΈν„°νμ΄μ¤μ λ©”μ„λ“κ°€ 1:1λ΅ μ—°κ²°λ  μ μκΈ° λ•λ¬Έμ„
   - λ°λ©΄, static λ©”μ„λ“μ™€ λ””ν΄νΈ λ©”μ„λ“μ κ°μλ” μ μ•½ μ—†μ

9. μμ‹
```java
List<String> list = Arrays.asList("abc", "aaa", "bbb", "ddd", "aaa");

Collections.sort(list, new Comparator<String>() {
    public int compare(String s1, String s2) {
        return s2.compareTo(s1);
    }
});
```

```java
List<String> list = Arrays.asList("abc", "aaa", "bbb", "ddd", "aaa");

Collections.sort(list, (s1, s2) -> s2.compareTo(s1));
```

-----
### ν•¨μν• μΈν„°νμ΄μ¤μ νƒ€μ…μ λ§¤κ°λ³€μμ™€ λ°ν™νƒ€μ…
-----
1. ν•¨μν• μΈν„°νμ΄μ¤ MyFunctionμ΄ μ•„λμ™€ κ°™μ΄ μ •μλμ–΄ μλ‹¤κ³  ν•μ.
```java
@FunctionalInterface
interface MyFunction {
    void myMethod(); // μ¶”μƒ λ©”μ„λ“
}
```

2. λ©”μ„λ“μ λ§¤κ°λ³€μκ°€ MyMethod νƒ€μ…μ΄λΌλ©΄, μ΄ λ©”μ„λ“λ¥Ό νΈμ¶ν•  λ• λλ‹¤μ‹μ„ μ°Έμ΅°ν•λ” μ°Έμ΅°λ³€μλ¥Ό λ§¤κ°λ³€μλ΅ μ§€μ •ν•΄μ•Ό ν•¨
```java
void aMethod(Myfunction f) { // λ§¤κ°λ³€μ νƒ€μ…μ΄ ν•¨μν• μΈν„°νμ΄μ¤
        f.myMethod(); // MyFunctionμ— μ •μλ λ©”μ„λ“ νΈμ¶
}

...

MyFunction f = () -> System.out.println("myMethod()");
aMethod(f);
```

3. λλ” μ°Έμ΅°λ³€μ μ—†μ΄ μ•„λμ™€ κ°™μ΄ μ§μ ‘ λλ‹¤μ‹μ„ λ§¤κ°λ³€μλ΅ μ§€μ • κ°€λ¥
```java
aMethod(() -> System.out.println("myMethod()")); // λλ‹¤μ‹μ„ λ§¤κ°λ³€μλ΅ μ§€μ •
```

4. λ©”μ„λ“μ λ°ν™νƒ€μ…μ΄ ν•¨μν• μΈν„°νμ΄μ¤ νƒ€μ…μ΄λΌλ©΄, μ΄ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒλ©”μ„λ“μ™€ λ™λ“±ν• λλ‹¤μ‹μ„ κ°€λ¦¬ν‚¤λ” μ°Έμ΅°λ³€μλ¥Ό λ°ν™ν•κ±°λ‚ λλ‹¤μ‹μ„ μ§μ ‘ λ°ν™ κ°€λ¥
```java
MyFunction myMethod() {
        MyFunction f = () -> {};
        return f; // return () -> {};
}
```

5. λλ‹¤μ‹μ„ μ°Έμ΅°λ³€μλ΅ λ‹¤λ£° μ μλ‹¤λ” κ²ƒμ€ λ©”μ„λ“λ¥Ό ν†µν•΄ λλ‹¤μ‹μ„ μ£Όκ³ λ°›μ„ μ μμμ„ μλ―Έ (μ¦‰, λ³€μμ²λΌ μ£Όκ³ λ°›μ„ μ μμ)

```java
@FunctionalInterface
interface MyFunction {
	void run();  // public abstract void run();
}

class LambdaEx1 {
	static void execute(MyFunction f) { // λ§¤κ°λ³€μ νƒ€μ…μ΄ MyFunctionμΈ λ©”μ„λ“
		f.run();
	}

	static MyFunction getMyFunction() { // λ°ν™ νƒ€μ…μ΄ MyFunctionμΈ λ©”μ„λ“
		MyFunction f = () -> System.out.println("f3.run()");
		return f;
	}

	public static void main(String[] args) {
		// λλ‹¤μ‹μΌλ΅ MyFunctionμ run() κµ¬ν„
		MyFunction f1 = ()-> System.out.println("f1.run()");

		MyFunction f2 = new MyFunction() {  // μµλ…ν΄λμ¤λ΅ run()μ„ κµ¬ν„
			public void run() {   // publicμ„ λ°λ“μ‹ λ¶™μ—¬μ•Όν•¨
				System.out.println("f2.run()");
			}
		};

		MyFunction f3 = getMyFunction();

		f1.run();
		f2.run();
		f3.run();

		execute(f1);
		execute( ()-> System.out.println("run()") );
	}
}
```
<div align="center">
<img src="https://github.com/sooyounghan/Java/assets/34672301/ef9e07be-f898-465c-af2a-3569f96b1982">
</div>

-----
### λλ‹¤μ‹μ νƒ€μ…κ³Ό ν•λ³€ν™
-----
1. ν•¨μν• μΈν„°νμ΄μ¤λ΅ λλ‹¤μ‹μ„ μ°Έμ΅°ν•  μ μλ” κ²ƒμΌ λΏ, λλ‹¤μ‹μ νƒ€μ…μ΄ ν•¨μν• μΈν„°νμ΄μ¤ νƒ€μ…κ³Ό μΌμΉν•λ” κ²ƒμ€ μ•„λ‹
2. λλ‹¤μ‹μ€ μµλ… κ°μ²΄μ΄κ³ , μµλ… κ°μ²΄μ—λ” νƒ€μ…μ΄ μ—†μ (μ •ν™•νλ” νƒ€μ…μ΄ μμ§€λ§, μ»΄νμΌλ¬κ°€ μ„μλ΅ μ΄λ¦„μ„ μ •ν•κΈ° λ•λ¬Έμ— μ• μ μ—†μ)
3. λ”°λΌμ„, λ€μ… μ—°μ‚°μμ μ–‘λ³€μ νƒ€μ…μ„ μΌμΉμ‹ν‚¤κΈ° μ„ν•΄μ„λ” λ‹¤μκ³Ό κ°™μ΄ ν•λ³€ν™ ν•„μ”
   - MyFunction : 'interface MyFunction { void method(); }λ΅ μ •μ
```java
MyFunction f = (MyFunction)(() -> {}); // μ–‘λ³€ νƒ€μ…μ΄ λ‹¤λ¥΄λ―€λ΅ ν•λ³€ν™
```

4. λλ‹¤μ‹μ€ MyFunction μΈν„°νμ΄μ¤λ¥Ό μ§μ ‘ κµ¬ν„ν•μ§€ μ•μ•μ§€λ§, μ΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤μ κ°μ²΄μ™€ μ™„μ „ν λ™μΌν•λ―€λ΅ μ„μ™€ κ°™μ€ ν•λ³€ν™ ν—μ© κ°€λ¥ν•λ©°, μƒλµ κ°€λ¥
5. λλ‹¤μ‹μ€ μ΄λ¦„μ΄ μ—†μ„ λΏ, λ¶„λ… κ°μ²΄μΈλ°λ„ Object νƒ€μ…μΌλ΅ ν•λ³€ν™ λ¶κ°€ν•λ©°, μ¤μ§ ν•¨μν• μΈν„°νμ΄μ¤λ΅λ§ ν•λ³€ν™ κ°€λ¥
```java
Object obj = (Object)(() -> {}); // Error. ν•¨μν• μΈν„°νμ΄μ¤λ΅λ§ ν•λ³€ν™ κ°€λ¥
```
6. κµ³μ΄ Object νƒ€μ…μΌλ΅ ν•λ³€ν™ ν•λ ¤λ©΄, λ¨Όμ € ν•¨μν• μΈν„°νμ΄μ¤λ΅ ν•λ³€ν™
```java
Object obj = (Object)(MyFunction)(() -> {});
String str = ((Object)(MyFunction)(() -> {})).toString();
```

```java
@FunctionalInterface
interface MyFunction {
	void myMethod();  // public abstract void myMethod();
}

class LambdaEx2 {
	public static void main(String[] args) 	{
		MyFunction f = ()->{}; // MyFunction f = (MyFunction)(()->{}); 
		Object obj = (MyFunction)(()-> {});  // Objectνƒ€μ…μΌλ΅ ν•λ³€ν™ μƒλµ
		String str = ((Object)(MyFunction)(()-> {})).toString();
		System.out.println(f);
		System.out.println(obj);
		System.out.println(str);

//		System.out.println(()->{});	// π’΅ Error. λλ‹¤μ‹μ€ Object νƒ€μ…μΌλ΅ ν•λ³€ν™ λ¶κ°€
		System.out.println((MyFunction)(()-> {}));
//		System.out.println((MyFunction)(()-> {}).toString()); // π’΅ Error.
		System.out.println(((Object)(MyFunction)(()-> {})).toString());
	}
}
```
<div align="center">
<img src="https://github.com/sooyounghan/Java/assets/34672301/695848fe-030d-435c-a414-2057428bd3ef">
</div>

7. μµλ… κ°μ²΄λΌλ©΄, κ°μ²΄ νƒ€μ…μ΄ 'μ™Έλ¶€ν΄λμ¤μ΄λ¦„$λ²νΈ' κ°™μ€ ν•μ‹μ΄μ§€λ§, λλ‹¤μ‹μ€ 'μ™Έλ¶€ν΄λμ¤μ΄λ¦„$Lambda$λ²νΈ' ν•μ‹

-----
### μ™Έλ¶€ λ³€μλ¥Ό μ°Έμ΅°ν•λ” λλ‹¤μ‹
-----
1. λλ‹¤μ‹λ„ μµλ… κ°μ²΄, μ¦‰ μµλ… ν΄λμ¤μ κ°μ²΄μ΄λ―€λ΅ λλ‹¤μ‹μ—μ„ μ™Έλ¶€μ— μ„ μ–Έλ λ³€μμ— μ ‘κ·Όν•λ” κ·μΉ™μ€ μµλ… ν΄λμ¤μ™€ λ™μΌ
2. μμ 
```java
@FunctionalInterface
interface MyFunction {
	void myMethod();
}

class Outer {
	int val=10;	// Outer.this.val				

	class Inner {
		int val=20;	// this.val

		void method(int i) {  // π’΅ void method(final int i) {
			int val=30; // π’΅ final int val=30;
//			i = 10;      // Error. μƒμμ κ°’μ„ λ³€κ²½ ν•  μ μ—†μ

			MyFunction f = () -> {
				System.out.println("             i :" + i);
				System.out.println("           val :" + val);
				System.out.println("      this.val :" + ++this.val);
				System.out.println("Outer.this.val :" + ++Outer.this.val);	
			};

			f.myMethod();
		}
	} // Inner
} // Outer

class LambdaEx3 {
	public static void main(String args[]) {
		Outer outer = new Outer();
		Outer.Inner inner = outer.new Inner();
		inner.method(100);
	}
}
```
<div align="center">
<img src="https://github.com/sooyounghan/Java/assets/34672301/6229c719-016d-4819-9792-319b877391a0">
</div>

3. λλ‹¤μ‹ λ‚΄μ—μ„ μ°Έμ΅°ν•λ” μ§€μ—­λ³€μλ” finalμ΄ λ¶™μ§€ μ•μ•„λ„ μƒμλ΅ κ°„μ£Ό
    - λλ‹¤μ‹ λ‚΄μ—μ„λ‚ λ‹¤λ¥Έ μ–΄λ κ³³μ—μ„λ„ μ΄ λ³€μλ“¤μ κ°’μ„ λ³€κ²½ν•λ” μΌμ€ ν—μ© λ¶κ°€

4. λ°λ©΄μ— Inner ν΄λμ¤λ‚ Outer ν΄λμ¤ μΈμ¤ν„΄μ¤ λ³€μμΈ this.valμ™€ Outer.this.valμ€ μƒμλ΅ κ°„μ£Όλμ§€ μ•μ•„ κ°’ λ³€κ²½ κ°€λ¥
5. κ·Έλ¦¬κ³  μ™Έλ¶€ μ§€μ—­λ³€μμ™€ κ°™μ€ μ΄λ¦„μ λλ‹¤μ‹ λ§¤κ°λ³€μλ” ν—μ©λμ§€ μ•μ
```java
void method(int i) {  // π’΅ void method(final int i) {
int val=30; // π’΅ final int val=30;
i = 10;      // Error. μƒμμ κ°’μ„ λ³€κ²½ ν•  μ μ—†μ

MyFunction f = (i) -> { // Error. μ™Έλ¶€ μ§€μ—­ λ³€μμ™€ μ΄λ¦„μ΄ μ¤‘λ³µ
    System.out.println("             i :" + i);
    System.out.println("           val :" + val);
    System.out.println("      this.val :" + ++this.val);
    System.out.println("Outer.this.val :" + ++Outer.this.val);	
};
```
